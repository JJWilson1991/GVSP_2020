setwd("C:/Users/jjw_t/Desktop/GVSP_Project")
library(here)
Spillover1<-readxl::read_excel(here::here("Data","Virus_Spillover.xlsx")
Spillover1<-readxl::read_excel(here::here("Data","Virus_Spillover.xlsx"))
Spillover1<-readxl::read_excel(here::here("Data","Virus_Spillover.xlsx"))
View(Spillover1)
unique(Spillover1$...11)
...11
colnames(Spillover1[11]<-Host)
colnames(Spillover1[11]<-"Host")
Spillover1<-readxl::read_excel(here::here("Data","Virus_Spillover.xlsx"))
view(Spillover1)
colnames(Spillover1)[11]<-"Host"
host_table<-table(unique(Spillover1$...11))
host_table<-table(unique(Spillover1$Host))
print(host_table)
library(tidyverse)
Spillover2<-Spillover1%>%mutate(Farm=Host)
View(Spillover2)
Spillover2<-Spillover1%>%mutate(Farm=str_replace_all(Host,"Bos taurus", "Cow")
Spillover2<-Spillover1%>%mutate(Farm=str_replace_all(Host,"Bos taurus", "Cow"))
Spillover2<-Spillover1%>%mutate(Farm=str_replace_all(Host,"Bos taurus", "Cow"))
Spillover2 %<>% mutate(year=str_replace_all(str_year,"pop",""))
Spillover2<-Spillover1%>%mutate(Farm=str_replace_all(Host,"Bos taurus", "Cow"))%>%str_replace_all(Farm,"Sus scrofa", "Pig")
Spillover2<-Spillover1%>%mutate(Farm=str_replace_all(Host,"Bos taurus", "Cow"))%>%str_replace_all(Farm,"Sus scrofa", "Pig")
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Sus scrofa"="Swine",  "Equus caballus"="Horse"))
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis Bos indicus Bos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis\r\Bos indicus\r\nBos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
Spillover1<-readxl::read_excel(here::here("Data","Virus_Spillover.xlsx"))
view(Spillover1)
colnames(Spillover1)[11]<-"Host"
host_table<-table(unique(Spillover1$Host))
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis Bos indicus Bos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis, Bos indicus, Bos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
Spillover1<-readxl::read_excel(here::here("Data","Virus_Spillover.xlsx"))
view(Spillover1)
colnames(Spillover1)[11]<-"Host"
host_table<-table(unique(Spillover1$Host))
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis, Bos indicus, Bos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
Farm_animals<-Spillover2[grep("attle", Spillover2$Farm), ]
View(Farm_animals)
Farm_animals<-Spillover2[grep(c("attle","Swine") Spillover2$Farm), ]
Farm_animals<-Spillover2[grep("attle") Spillover2$Farm), ]
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis, Bos indicus, Bos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
Farm_animals<-Spillover2[grep("attle") Spillover2$Farm), ]
Farm_animals<-Spillover2[grep("attle", Spillover2$Farm), ]
Farm_animals<-Spillover2[grep("attle", Spillover2$Farm) ]
FA<-c("Swine", "Pigs", "pigs", "orse", "attle")
FA<-c("Swine", "Pigs", "pigs", "orse", "attle")
matches <- unique (grep(paste(Fa,collapse="|"),
Spillover2$Farm, value=TRUE))
matches <- unique (grep(paste(FA,collapse="|"),
Spillover2$Farm, value=TRUE))
matches
matches <-(grep(paste(FA,collapse="|"),
Spillover2$Farm, value=TRUE))
matches
matches <-filter(Spillover2,grep(paste(FA,collapse="|"),
Spillover2$Farm, value=TRUE))
matches <-filter(Spillover2,grepl(paste(FA,collapse="|"),
Spillover2$Farm, value=TRUE))
swn<-Spillover2[grep(FA, Spillover2$Farm), ]
View(Spillover2)
View(swn)
sdfg<-filter(Spillover2, grepl(paste(Fa, collapse="|"), Farm))
sdfg<-filter(Spillover2, grepl(paste(FA, collapse="|"), Farm))
View(sdfg)
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis, Bos indicus, Bos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
FA<-c("Swine", "Pigs", "pigs", "orse", "attle")
Farm_animals<-filter(Spillover2, grepl(paste(FA, collapse="|"), Farm))
All_associations<-read.csv2(here::here("Data","associations.csv"))
View(All_associations)
class(All_associations)
All_associations<-read_csv(here::here("Data","associations.csv"))
FA2<-filter(All_associations, c("Ovis_aries"), hHostNameFinal)
unique(All_associations$hHostNameFinal)
FA2<-c("Sus_scrofa", "Ovis_aries", "Bos_taurus", "Equus caballus", "Capra_aegagrus", "Capra_hircus", "Bubalus_bubalis",  "Cervus_elaphus",  "Cervus_nippon",  "Cervus_timorensis", "Bos_mutus", "Equus_asinus")
Farm_animals2<-filter(All_associations, grepl(paste(FA2, collapse="|"), hHostNameFinal))
View(Farm_animals2)
farm_a<-as.data.frame(unique(Farm_animals2$vVirusNameCorrected))
View(farm_a)
View(Spillover1)
colnames(farm_a)[1]<-Virus
colnames(farm_a)[1]<-"Virus"
test<-left_join(farm_a, Spillover1, by=Virus)
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$vVirusNameCorrected))
colnames(farm_a)[1]<-"Virus"
test<-left_join(farm_a, Spillover1, by="Virus")
View(test)
farm_a<-left_join(farm_a,Farm_animals2[1:2,])
colnames(Farm_animals2)[1]<-"Virus"
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$vVirusNameCorrected))
colnames(farm_a)[1]<-"Virus"
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$vVirusNameCorrected))
colnames(farm_a)[1]<-"Virus"
#pull all interactions involving farm animasl listed above
Farm_animals2<-filter(All_associations, grepl(paste(FA2, collapse="|"), hHostNameFinal))
colnames(Farm_animals2)[1]<-"Virus"
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$vVirusNameCorrected))
colnames(farm_a)[1]<-"Virus"
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$Virus))
colnames(farm_a)[1]<-"Virus"
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$Virus))
colnames(farm_a)[1]<-"Virus"
```{r}
farm_a<-left_join(farm_a,Farm_animals2[1:2,])
View(farm_a)
try<-Farm_animals2[1,2]
View(try)
try<-Farm_animals2[c(1,2),]
View(try)
try<-Farm_animals2[,c(1,2)]
View(try)
Farm_animals3<-Farm_animals2[,c(1,2)]
farm_a<-left_join(farm_a,Farm_animals3)
Spillover1<-readxl::read_excel(here::here("Data","Virus_Spillover.xlsx"))
view(Spillover1)
colnames(Spillover1)[11]<-"Host"
host_table<-table(unique(Spillover1$Host))
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis, Bos indicus, Bos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
FA<-c("Swine", "Pigs", "pigs", "orse", "attle")
Farm_animals<-filter(Spillover2, grepl(paste(FA, collapse="|"), Farm))
All_associations<-read_csv(here::here("Data","associations.csv"))
FA2<-c("Sus_scrofa", "Ovis_aries", "Bos_taurus", "Equus caballus", "Capra_aegagrus", "Capra_hircus", "Bubalus_bubalis",  "Cervus_elaphus",  "Cervus_nippon",  "Cervus_timorensis", "Bos_mutus", "Equus_asinus")
#pull all interactions involving farm animasl listed above
Farm_animals2<-filter(All_associations, grepl(paste(FA2, collapse="|"), hHostNameFinal))
colnames(Farm_animals2)[1]<-"Virus"
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$Virus))
colnames(farm_a)[1]<-"Virus"
Farm_animals3<-Farm_animals2[,c(1,2)]
farm_a<-left_join(farm_a,Farm_animals3)
test<-left_join(farm_a, Spillover1, by="Virus")
View(Farm_animals3)
View(farm_a)
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$Virus))
colnames(farm_a)[1]<-"Virus"
Farm_animals3<-Farm_animals2[,c(1,2)]
farm_b<-left_join(farm_a,Farm_animals3)
View(farm_b)
farm_b<-left_join(farm_a,Farm_animals3, by="Virus")
View(farm_b)
farm_b<-inner_join(farm_a,Farm_animals3, by="Virus")
library(here)
library(tidyverse)
Spillover1<-readxl::read_excel(here::here("Data","Virus_Spillover.xlsx"))
view(Spillover1)
colnames(Spillover1)[11]<-"Host"
host_table<-table(unique(Spillover1$Host))
Spillover2<-Spillover1%>%mutate(Farm=recode(Host, "Bos taurus"="Cattle", "Bubalus bubalis, Bos indicus, Bos taurus"="Cattle","Sus scrofa"="Swine",  "Equus caballus"="Horse"))
FA<-c("Swine", "Pigs", "pigs", "orse", "attle")
Farm_animals<-filter(Spillover2, grepl(paste(FA, collapse="|"), Farm))
All_associations<-read_csv(here::here("Data","associations.csv"))
FA2<-c("Sus_scrofa", "Ovis_aries", "Bos_taurus", "Equus caballus", "Capra_aegagrus", "Capra_hircus", "Bubalus_bubalis",  "Cervus_elaphus",  "Cervus_nippon",  "Cervus_timorensis", "Bos_mutus", "Equus_asinus")
#pull all interactions involving farm animasl listed above
Farm_animals2<-filter(All_associations, grepl(paste(FA2, collapse="|"), hHostNameFinal))
colnames(Farm_animals2)[1]<-"Virus"
#lets get a list of unique viruses known to infect farm animnals
farm_a<-as.data.frame(unique(Farm_animals2$Virus))
colnames(farm_a)[1]<-"Virus"
Farm_animals3<-Farm_animals2[,c(1,2)]
farm_b<-inner_join(farm_a,Farm_animals3, by="Virus")
test<-left_join(farm_a, Spillover1, by="Virus")
#farm_b<-inner_join(farm_a,Farm_animals3, by="Virus")
test<-left_join(farm_a, Spillover1, by="Virus")
#farm_b<-inner_join(farm_a,Farm_animals3, by="Virus")
All_farm<-left_join(farm_a, Spillover1, by="Virus")
View(All_farm)
library(visdat)
vis_miss(All_farm)
View(Farm_animals2)
All_features<-read_csv(here::here("Data", "viruses.csv"))
view(All_features)
colnames(All_features)[1]<-"Viruses"
